<div class="layout-pane coding-question__question-pane layout-pane--primary layout-pane--smooth">
    <div class="layout-pane__container">
        <div class="coding-question__left-pane">
            <section>
                <h1 class="question-view__title">8. VM Pricing</h1>
            </section>
            <section class="question-view__instruction">
                <div class="candidate-rich-text">
                    <div id="1b6fjeldr-instruction">
                        <p>A cloud service provider offers quantity discounts based on the number of virtual machines a
                            customer needs.&nbsp; Their offerings vary
                            from&nbsp;<em>2</em>&nbsp;to&nbsp;<em>2000</em>&nbsp;instances.&nbsp; When pricing is
                            requested, the customer's representative refers to a list of past pricing.&nbsp; Given a
                            list of past price quotes and the number of instances a customer needs, determine the
                            per-instance price for the customer.</p>

                        <p>
                            <style type="text/css">
                                .ps-content-wrapper-v0 div {
                                    margin: 0 auto;
                                    overflow: auto;
                                }

                                .ps-content-wrapper-v0 div.preheader {
                                    display: none;
                                }

                                .ps-content-wrapper-v0 p {
                                    white-space: pre-wrap;
                                    padding-left: 4px;
                                    padding-right: 4px;
                                    padding-top: 0px;
                                    padding-bottom: 2px;
                                }

                                .ps-content-wrapper-v0 p.section-title {
                                    font-weight: bold;
                                    padding-bottom: 0px;
                                }

                                .ps-content-wrapper-v0 ol.plain-list,
                                .ps-content-wrapper-v0 ul.plain-list {
                                    list-style-type: none;
                                    padding: 4px;
                                }

                                .ps-content-wrapper-v0 li {
                                    white-space: normal;
                                    margin-top: 4px;
                                    margin-bottom: 4px;
                                }

                                .ps-content-wrapper-v0 code {
                                    color: black;
                                }

                                .ps-content-wrapper-v0 pre {
                                    background-color: #f4faff;
                                    border: 0;
                                    border-radius: 2px;
                                    margin: 8px;
                                    padding: 10px;
                                }

                                .ps-content-wrapper-v0 pre.scrollable-full-json {
                                    overflow-x: scroll;
                                    white-space: pre;
                                }

                                .ps-content-wrapper-v0 pre.scrollable-json {
                                    height: 300px;
                                    overflow-y: scroll;
                                    display: inline-grid;
                                    white-space: pre-wrap;
                                    padding-left: 8px;
                                    padding-right: 8px;
                                    padding-top: 4px;
                                    padding-bottom: 4px;
                                }

                                .ps-content-wrapper-v0 div.equation-parent {
                                    width: 400px;
                                    text-align: center;
                                    border: 1px solid #000;
                                    padding: 8px;
                                }

                                .ps-content-wrapper-v0 div.equation-parent.equation {
                                    width: 100%;
                                    display: inline-block;
                                }

                                .ps-content-wrapper-v0 figure {
                                    background-color: transparent;
                                    display: table;
                                    margin-top: 8px;
                                    margin-bottom: 8px;
                                    text-align: center;
                                    margin-left: auto;
                                    margin-right: auto;
                                }

                                .ps-content-wrapper-v0 figcaption {
                                    text-align: center;
                                    display: table-caption;
                                    caption-side: bottom;
                                    margin-top: 4px;
                                    margin-bottom: 4px;
                                }

                                .ps-content-wrapper-v0 img {
                                    width: auto;
                                    max-width: 100%;
                                    height: auto;
                                }

                                .ps-content-wrapper-v0 details {
                                    background-color: transparent;
                                    padding-left: 4px;
                                    padding-right: 4px;
                                    padding-top: 0px;
                                    padding-bottom: 2px;
                                }

                                .ps-content-wrapper-v0 details details {
                                    padding-left: 8px;
                                    padding-right: 8px;
                                }

                                .ps-content-wrapper-v0 details summary {
                                    background-color: #39424e;
                                    color: white;
                                    font-weight: bold;
                                    margin-top: 4px;
                                    margin-bottom: 4px;
                                    padding: 8px;
                                }

                                .ps-content-wrapper-v0 details details summary code {
                                    color: black;
                                    font-weight: bold;
                                    padding-left: 2px;
                                    padding-right: 2px;
                                    padding-top: 4px;
                                    padding-right: 4px;
                                    margin-left: 4px;
                                }

                                .ps-content-wrapper-v0 details div.collapsable-details {
                                    margin: 0 auto;
                                    padding-left: 4px;
                                    padding-right: 4px;
                                    padding-top: 0px;
                                    padding-bottom: 2px;
                                    overflow: auto;
                                }

                                .ps-content-wrapper-v0 details div.collapsable-details pre {
                                    margin-left: 4px;
                                    margin-right: 4px;
                                    margin-top: 4px;
                                    margin-bottom: 4px;
                                }

                                .ps-content-wrapper-v0 table.normal {
                                    border: 1px solid black;
                                    border-collapse: collapse;
                                    border-color: darkgray;
                                    margin: 0 auto;
                                    margin-top: 8px;
                                    margin-bottom: 8px;
                                    padding: 8px;
                                    width: 96%;
                                    table-layout: fixed;
                                }

                                .ps-content-wrapper-v0 table.normal tbody {
                                    display: block;
                                    overflow-x: auto;
                                    overflow-y: hidden;
                                }

                                .ps-content-wrapper-v0 table.normal tbody tr:first-child th {
                                    font-weight: bold;
                                    white-space: normal;
                                }

                                .ps-content-wrapper-v0 table.normal tbody tr th,
                                .ps-content-wrapper-v0 table.normal tbody tr td {
                                    font-weight: normal;
                                    white-space: nowrap;
                                    text-align: center;
                                    vertical-align: middle;
                                    border: 1px solid black;
                                    border-color: darkgray;
                                    padding: 8px;
                                }

                                .ps-content-wrapper-v0 table.database-table {
                                    border-collapse: collapse;
                                    border-color: darkgray;
                                    border: 1px solid black;
                                    width: auto;
                                    margin-left: 4px;
                                    margin-top: 8px;
                                    margin-bottom: 8px;
                                    padding: 8px;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody {
                                    overflow-x: auto;
                                    overflow-y: hidden;
                                    border: none;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody tr th,
                                .ps-content-wrapper-v0 table.database-table tbody tr td {
                                    font-weight: normal;
                                    white-space: nowrap;
                                    text-align: center;
                                    vertical-align: middle;
                                    border: 1px solid black;
                                    border-color: darkgray;
                                    padding: 8px;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody tr th {
                                    font-weight: bold;
                                    border: 1px solid black;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody tr:nth-child(2) td {
                                    border: 1px solid black;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody tr:nth-child(n+2) td:first-child {
                                    border-left-color: black;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody tr:nth-child(n+2) td:last-child {
                                    border-right-color: black;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody tr:last-child td {
                                    border-bottom-color: black;
                                }

                                .ps-content-wrapper-v0 table.database-table tbody tr td.description {
                                    text-align: left;
                                    white-space: pre-wrap;
                                }

                                .ps-content-wrapper-v0 table.normal tbody tr th.description {
                                    width: 60%;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr:first-child td.headers {
                                    border-bottom-width: 2px;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr:last-child td {
                                    border-top-width: 2px;
                                    border-top-color: darkgray;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.headers {
                                    width: 25%;
                                    font-weight: bold;
                                    text-align: center;
                                    border: 1px solid black;
                                    border-right-width: 2px;
                                    border-color: darkgray;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell {
                                    width: 100%;
                                    height: 100%;
                                    padding: 0px;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table {
                                    width: 100%;
                                    height: 100%;
                                    padding: 0px;
                                    margin: 0px;
                                    border: 0;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr td.code {
                                    white-space: normal;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr th {
                                    border-top: 0;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr th:first-child {
                                    border-left: 0;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr th:last-child {
                                    border-right: 0;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr:last-child td {
                                    border-bottom: 0;
                                    border-top-width: 1px;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr td:first-child {
                                    border-left: 0;
                                }

                                .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr td:last-child {
                                    border-right: 0;
                                }

                                .ps-content-wrapper-v0 table.sudoku {
                                    border-collapse: collapse;
                                    border-color: darkgray;
                                    margin: 0 auto;
                                    margin-top: 8px;
                                    margin-bottom: 8px;
                                    padding: 8px;
                                }

                                .ps-content-wrapper-v0 table.sudoku colgroup,
                                tbody {
                                    border: 3px solid black;
                                }

                                .ps-content-wrapper-v0 table.sudoku td {
                                    border: 1px solid black;
                                    height: 25px;
                                    width: 25px;
                                    text-align: center;
                                    padding: 0;
                                }

                                .ps-content-wrapper-v0 .left {
                                    text-align: left;
                                }

                                .ps-content-wrapper-v0 .right {
                                    text-align: right;
                                }

                                .ps-content-wrapper-v0 .code {
                                    font-family: monospace;
                                    white-space: nowrap;
                                }

                                .ps-content-wrapper-v0 .json-object-array ol,
                                .ps-content-wrapper-v0 .json-object-array ol ul {
                                    margin-top: 0px;
                                    padding-left: 14px;
                                }

                                .json-object-array li {
                                    float: left;
                                    margin-right: 30px;
                                    margin-left: 10px;
                                }

                                .json-object-array pre {
                                    padding: 4px;
                                    margin-left: 0px;
                                }
                            </style>
                        </p>

                        <div class="ps-content-wrapper-v0">
                            <div class="preheader" style="display:none;">Interpolate/extrapolate from given point data.
                            </div>

                            <p>&nbsp;</p>

                            <p>The method for determining price is as follows:</p>

                            <ul>
                                <li>If the number of instances needed&nbsp;is <em>exactly the same</em> as the quantity
                                    for a prior customer, the unit price is that price.</li>
                                <li>If there is a price for a larger number and a price for a smaller number of
                                    instances, linearly interpolate the price of the quantity needed from the unit
                                    prices for the closest smaller and larger quantities.</li>
                                <li>If the quantities for which there is past data are <em>all smaller</em> or <em>all
                                        larger</em> than the amount needed, then linearly extrapolate&nbsp;the unit
                                    price from the <em>2</em> points <em>closest</em> to the quantity needed.</li>
                                <li>If the database only has <em>1</em> quantity, that is the price per unit.</li>
                                <li>Sometimes, price quotes lapse. When that happens, the old pricing is
                                    overwritten&nbsp;with either a <em>0</em> or a negative number. The quantities
                                    associated with zero or negative unit prices must be disregarded.</li>
                            </ul>

                            <p>&nbsp;</p>

                            <p>For example, assume the price breaks occur for <em>instances = [25, 50, 100]</em> units
                                at <em>price = [5.0, 4.0, 3.0]</em>. A diagram follows with pricing for <em>75</em> and
                                <em>150</em> units. In the graph, price versus quantity for given values are in blue.
                                The target numbers of instances and the linear extrapolation are plotted in red.</p>

                            <p>&nbsp;</p>

                            <p><img height="173"
                                    src="https://s3.amazonaws.com/istreet-assets/hk-DCsmfXCmN2fC-NREzCw/weddingplannerexample.png"
                                    width="392"></p>

                            <p><strong>Function Description </strong></p>

                            <p>Complete the function <em>interpolate</em> in the editor below. The function must return
                                the expected price per unit rounded to two places after the decimals and cast as a
                                string.</p>

                            <p>&nbsp;</p>

                            <p>interpolate has the following parameter(s):</p>

                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<em>n</em>: an integer that denotes the number of instances
                                required</p>

                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<em>instances[instances[0],...instances[m-1]]:</em>&nbsp;an array
                                of integers in increasing order, each a number of instances ordered in the past</p>

                            <p>&nbsp;&nbsp;&nbsp;&nbsp;<em>price[price[0],...price[m-1]]:</em>&nbsp;an array of floating
                                point numbers where <em>price[i]</em> is the unit price when <em>instances[i]</em> units
                                were purchased.</p>

                            <p>&nbsp;</p>

                            <p><strong>Note:</strong> The <em>interpolate</em> function's array parameters may be
                                vectors, where necessitated by the language.</p>

                            <p>&nbsp;</p>

                            <p><strong>Constraints</strong></p>

                            <ul>
                                <li><em>2 ≤ n ≤ 2000</em></li>
                                <li><em>1 ≤ m ≤ 100</em></li>
                                <li><em>|instances| = |price| = m</em></li>
                                <li>
                                    <em>instances[i] &lt; instances[j]</em>, where <em>0 ≤ i &lt; j &lt; m</em>
                                </li>
                            </ul>

                            <p>&nbsp;</p>
                            <!-- <StartOfInputFormat> DO NOT REMOVE THIS LINE-->

                            <details>
                                <summary class="section-title">Input Format For Custom Testing</summary>

                                <div class="collapsable-details">
                                    <p>The first line contains an integer, <em>n</em>, the number of instances needed.
                                    </p>

                                    <p>The second line contains an integer, <em>m</em>, the size of the array
                                        <em>instances</em>.</p>

                                    <p>Each line <em>i</em> of the <em>m</em> subsequent lines (where <em>0 ≤ i &lt;
                                            m</em>) contains an integer that describes <em>instances[i]</em>.</p>

                                    <p>The next line again contains the integer, <em>m</em>, the size of the array
                                        price.</p>

                                    <p>Each line <em>i</em> of the <em>m</em> subsequent lines (where <em>0 ≤ i &lt;
                                            m</em>) contains a floating point number that describes <em>price[i]</em>.
                                    </p>

                                    <p>&nbsp;</p>
                                </div>
                            </details>
                            <!-- </StartOfInputFormat> DO NOT REMOVE THIS LINE-->

                            <details open="open">
                                <summary class="section-title">Sample Case 0</summary>

                                <div class="collapsable-details">
                                    <p><strong>Sample Input 0</strong></p>

                                    <pre>25
5
10
25
50
100
500
5
2.46
2.58
2.0
2.25
3.0
</pre>

                                    <p>&nbsp;</p>

                                    <p><strong>Sample Output 0</strong></p>

                                    <pre>2.58</pre>

                                    <p>&nbsp;</p>

                                    <p><strong>Explanation 0</strong></p>

                                    <p>The following arguments are passed to the <em>interpolate</em> function:</p>

                                    <p><em>n = 25</em></p>

                                    <p><em>instances = { 10, 25, 50, 100, 500 }</em></p>

                                    <p><em>price = { 2.46, 2.58, 2.0, 2.25, 3.0 }</em></p>

                                    <p>&nbsp;</p>

                                    <p>The quantity <em>25</em> is in the database, so <em>vmPricing</em> returns the
                                        unit price associated with that quantity, <em>2.58</em>, cast as a string.</p>

                                    <p>&nbsp;</p>
                                </div>
                            </details>

                            <details>
                                <summary class="section-title">Sample Case 1</summary>

                                <div class="collapsable-details">
                                    <p><strong>Sample Input 1</strong></p>

                                    <pre>2000
5
10
25
50
100
500
5
27.32
23.13
21.25
18.0
15.5
</pre>

                                    <p>&nbsp;</p>

                                    <p><strong>Sample Output 1</strong></p>

                                    <pre>6.13</pre>

                                    <p><strong>Explanation 1</strong></p>

                                    <p>The following arguments are passed to the <em>interpolate</em> function:</p>

                                    <p><em>n = 2000</em></p>

                                    <p><em>instances = {10, 25, 50, 100, 500 }</em></p>

                                    <p><em>price = { 27.32, 23.13, 21.25, 18.00, 15.50 }</em></p>

                                    <p><img height="288"
                                            src="https://s3.amazonaws.com/istreet-assets/bdPN3fqcgHk7-Ay2_MsUUQ/weddingplannersample1.png"
                                            width="432"></p>

                                    <p>The quantity <em>2000</em> is not in the database, and is also larger than any
                                        amount in the database. The closest two price points to it are <em>15.5</em> for
                                        <em>500</em> instances and <em>18.00</em> for <em>100</em> instances. Linear
                                        extrapolation from these two points means reducing the price by <em>2.5</em> for
                                        every increase in the amount of <em>400</em>. There are <em>3.75</em> jumps of
                                        <em>400</em> from <em>500</em> to <em>2000</em>, or <em>4.75</em> jumps of
                                        <em>400</em> from<em> 100</em> to <em>2000</em>. The unit price for
                                        <em>2000</em> is therefore <em>15.5 - 2.5 × 3.75</em> or <em>18 - 2.5 ×
                                            4.75</em>. Both expressions evaluate to <em>6.125</em>. The function should
                                        round this to a scale of <em>2</em> decimal places and return the rounded
                                        result, <em>6.13, </em>as a string.</p>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>